[
  {
    "objectID": "regressao.html#exemplo-modelando-o-bova11-através-do-ipca",
    "href": "regressao.html#exemplo-modelando-o-bova11-através-do-ipca",
    "title": "9  Regressão dinâmica",
    "section": "9.1 Exemplo: modelando o BOVA11 através do IPCA",
    "text": "9.1 Exemplo: modelando o BOVA11 através do IPCA\nQuando uma empresa precisa capitanear recursos, ela pode entrar no mercado de ações. Neste caso, o valor da empresa é estimado e então decide-se a fatia que vai ser vendida no mercado. Essa fatia é dividida em pedaços, chamados ações. Cada ação representa um pedaço da empresa.\nUm modo simples de começar a operar na bolsa é comprando ETF’s - um fundo composto de ações, proporcionais a algum índice (você compra vários pedaços de ações). O BOVA11 é um fundo que imita do Índice BOVESPA, que por sua vez é composto pelas empresas com maior volume de negociação na Bolsa de Valores de São Paulo. Assim, se essas empresas se valorizam, o valor de mercado do ETF aumenta. Aqueles que possuem uma ação podem vendê-la no mercado de ações. Em geral, se a empresa entregou lucro (ou seja, aumentou de tamanho), o valor da ação deveria aumentar. Por outro lado, entregando prejuízo, o valor diminui.\nPessoas vendem as ações para obter lucro (vender por um valor maior do que comprou) ou por acreditar que o valor de mercado da empresa vai diminuir. Entretanto, não é apenas o desempenho da empresa que determina o valor da ação, mas a dinâmica do mercado, que tenta se antecipar a possíveis perdas. Se muitas pessoas vendem suas ações, o preço cai. Mas se muitas pessoas querem comprar, o preço sobe. Esse movimento é explicado pela Lei da Oferta e da Procura.\nO pessimismo da economia tende a diminuir o ânimo dos investidores, fazendo com que eles se desfaçam de suas ações antes que elas desvalorizem mais. Um dos indicadores de que a economia vai mal é o IPCA (Índice Nacional de Preços ao Consumidor Amplo), nosso principal índice de inflação.\nQuando a economia está ruim, é usual ver um movimento de saída da bolsa, fazendo com que o índice BOVESPA caia, e, por consequência, o BOVA11. Portanto, é esperado uma relação negativa entre a série do IPCA com o BOVA11. Contudo, o próximo gráfico mostra que essa relação não é tão evidente.\n\nurl &lt;- 'https://drive.google.com/uc?authuser=0&id=1d1dp1q7_Jdp8yOMlcsLxdZZcCMmwjZ04&export=download'\n\ndados &lt;- read.csv(url)\ndados$Data &lt;- as.Date(dados$Data, '%d.%m.%Y') \ndados0 &lt;- dados[order(dados$Data),]\ndados0$IPCA[141] &lt;- 3.1352\n\nbova11 &lt;- ts(dados0$Último, frequency=12, start=c(2009,1))\nbova11 &lt;- window(bova11, end = c(2019,12))\n\nipca &lt;- ts(as.numeric(dados0$IPCA), frequency=12, start=c(2009,1))\nipca &lt;- window(ipca, end = c(2019,12))\n\nplot.ts( cbind(bova11,ipca), lwd = 2)\n\n\n\nplot(ipca,bova11,  ylab = 'Preço de fechamento', xlab = 'IPCA')\n\n\n\n\nO gráfico acima deixa claro que não há independências entre as duas variáveis. Vamos ajustar um modelo de regressão dinâmica.\n\nrequire(dlm)\nmod &lt;- dlmModReg( ipca - mean(ipca))\nmod$m0[1] &lt;- bova11[1]\nmod &lt;- modFim(bova11, mod)\nfiltro &lt;- dlmFilter( bova11, mod)\nerro &lt;- bova11- filtro$f\nts.plot(erro)\n\n\n\nacf(erro)\n\n\n\n\nOs erros de previsão revelam um modelo satisfatório. Abaixo mostramos a série prevista um passo à frente.\n\nplot(bova11, ylab = 'Preço de fechamento do BOVA11',lwd = 2)\nlines(filtro$f, lwd = 2, col = 'brown')\nlegend('topleft', c('Série original', 'Série prevista'), bty = 'n', fill = c(1,'tomato'))\n\n\n\n\nVamos analisar os componentes suavizados da série.\n\nsuave &lt;- dlmSmooth(filtro)\nsd &lt;- sdSmooth(suave)\n\nnível &lt;- suave$s[,1]\n`efeito do IPCA` &lt;- suave$s[,2]\n\nplot.ts( nível , main = 'Nível suavizado')\nlines(nível - 1.96*sd[,1], lty = 2)\nlines(nível + 1.96*sd[,1], lty = 2)\n\n\n\nplot.ts( `efeito do IPCA` , main = 'Coeficiente do IPCA', ylim = c(-6,4))\nlines(`efeito do IPCA` - 1.96*sd[,2], lty = 2)\nlines(`efeito do IPCA` + 1.96*sd[,2], lty = 2)\n\n\n\n\nO gráfico acima mostra uma influência negativa, em média, do IPCA no BOVA11."
  },
  {
    "objectID": "regressao.html#exercício",
    "href": "regressao.html#exercício",
    "title": "9  Regressão dinâmica",
    "section": "9.2 Exercício",
    "text": "9.2 Exercício\nFaça um modelo de regressão dinâmica utilizando o número mensal de nascidos vivos via parto vaginal como série de interesse e o total de partos como regressora."
  }
]